<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Proton# Docs ‚Äî Language Reference</title>
  <link rel="icon" type="image/png" href="docs-icon.png"/>
  <link rel="apple-touch-icon" href="docs-icon.png"/>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --bg:        #1a1a1a;
      --bg-card:   #222222;
      --bg-panel:  #2a2a2a;
      --orange:    #FF6B00;
      --white:     #f0f0f0;
      --gray:      #aaaaaa;
      --border:    #333333;
      --code-bg:   #111111;
      --sidebar-w: 268px;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:var(--bg); color:var(--white); font-family:'Syne',sans-serif; display:flex; min-height:100vh; }

    /* SIDEBAR */
    .sidebar { width:var(--sidebar-w); background:var(--bg-card); border-right:1px solid var(--border); position:fixed; top:0; left:0; bottom:0; overflow-y:auto; display:flex; flex-direction:column; z-index:10; }
    .sidebar-header { padding:20px; border-bottom:1px solid var(--border); }
    .sidebar-logo { font-family:'JetBrains Mono',monospace; font-size:1.1rem; font-weight:700; color:var(--white); text-decoration:none; display:block; }
    .sidebar-logo span { color:var(--orange); }
    .sidebar-version { font-size:0.7rem; color:var(--gray); font-family:'JetBrains Mono',monospace; background:var(--bg-panel); padding:2px 8px; border-radius:20px; display:inline-block; margin-top:6px; }
    .sidebar-back { display:inline-flex; align-items:center; gap:5px; color:var(--orange); font-size:0.78rem; font-weight:600; text-decoration:none; margin-top:10px; opacity:0.8; transition:opacity 0.2s; cursor:pointer; }
    .sidebar-back:hover { opacity:1; }
    .sidebar-search { padding:14px 16px; border-bottom:1px solid var(--border); }
    .sidebar-search input { width:100%; background:var(--bg-panel); border:1px solid var(--border); color:var(--white); font-family:'Syne',sans-serif; font-size:0.83rem; padding:7px 11px; border-radius:6px; outline:none; transition:border-color 0.2s; }
    .sidebar-search input:focus { border-color:var(--orange); }
    .sidebar-search input::placeholder { color:var(--gray); }
    .sidebar-nav { flex:1; padding:12px 0; }
    .nav-label { font-size:0.63rem; font-weight:700; text-transform:uppercase; letter-spacing:0.1em; color:var(--gray); padding:12px 18px 5px; }
    .nav-link { display:flex; align-items:center; gap:8px; padding:7px 18px; color:var(--gray); text-decoration:none; font-size:0.86rem; font-weight:500; transition:all 0.15s; cursor:pointer; border-left:2px solid transparent; }
    .nav-link:hover { color:var(--white); background:rgba(255,255,255,0.04); }
    .nav-link.active { color:var(--orange); border-left-color:var(--orange); background:rgba(255,107,0,0.08); }
    .nav-icon { width:18px; text-align:center; font-size:0.88rem; }
    .no-results { padding:12px 18px; color:var(--gray); font-size:0.82rem; font-style:italic; display:none; }

    /* MAIN */
    .main { margin-left:var(--sidebar-w); flex:1; display:flex; flex-direction:column; }
    .topbar { background:var(--bg-card); border-bottom:1px solid var(--border); padding:0 44px; height:50px; display:flex; align-items:center; justify-content:space-between; position:sticky; top:0; z-index:5; }
    .topbar-breadcrumb { font-size:0.8rem; color:var(--gray); font-family:'JetBrains Mono',monospace; }
    .topbar-breadcrumb span { color:var(--orange); }
    .topbar-links { display:flex; gap:16px; }
    .topbar-links a { color:var(--gray); text-decoration:none; font-size:0.8rem; font-weight:600; transition:color 0.2s; }
    .topbar-links a:hover { color:var(--orange); }
    .content { padding:52px 48px; max-width:860px; }

    /* SECTIONS */
    .doc-section { display:none; }
    .doc-section.active { display:block; }
    .section-tag { font-size:0.7rem; font-weight:700; text-transform:uppercase; letter-spacing:0.1em; color:var(--orange); font-family:'JetBrains Mono',monospace; margin-bottom:10px; }
    h1 { font-size:2.3rem; font-weight:800; line-height:1.15; margin-bottom:14px; }
    h1 span { color:var(--orange); }
    .section-intro { color:var(--gray); font-size:1rem; line-height:1.75; margin-bottom:36px; border-left:3px solid var(--orange); padding-left:16px; }
    h2 { font-size:1.35rem; font-weight:700; margin:38px 0 14px; padding-bottom:9px; border-bottom:1px solid var(--border); }
    h3 { font-size:1rem; font-weight:700; margin:24px 0 10px; color:var(--orange); }
    p { color:var(--gray); line-height:1.8; margin-bottom:14px; font-size:0.93rem; }

    /* CODE */
    .code-block { background:var(--code-bg); border:1px solid var(--border); border-radius:10px; margin:14px 0 22px; overflow:hidden; }
    .code-header { background:#111; border-bottom:1px solid var(--border); padding:7px 14px; display:flex; align-items:center; justify-content:space-between; }
    .code-lang { font-family:'JetBrains Mono',monospace; font-size:0.68rem; color:var(--orange); font-weight:700; text-transform:uppercase; letter-spacing:0.08em; }
    .code-copy { background:none; border:1px solid var(--border); color:var(--gray); font-family:'JetBrains Mono',monospace; font-size:0.67rem; padding:3px 9px; border-radius:4px; cursor:pointer; transition:all 0.2s; }
    .code-copy:hover { border-color:var(--orange); color:var(--orange); }
    pre { padding:18px; overflow-x:auto; font-family:'JetBrains Mono',monospace; font-size:0.87rem; line-height:1.75; color:var(--white); }
    .kw  { color:#ff8c42; font-weight:700; }
    .str { color:#a8d8a8; }
    .num { color:#87ceeb; }
    .cmt { color:#555; font-style:italic; }
    .fn  { color:#dda0dd; }
    .op  { color:#ff9999; }
    .type { color:#80cbc4; }

    /* TABLES */
    .doc-table { width:100%; border-collapse:collapse; margin:14px 0 26px; font-size:0.87rem; }
    .doc-table th { background:var(--bg-panel); color:var(--orange); font-weight:700; padding:9px 14px; text-align:left; border-bottom:2px solid var(--border); }
    .doc-table td { padding:9px 14px; border-bottom:1px solid var(--border); color:var(--gray); vertical-align:top; }
    .doc-table tr:hover td { background:rgba(255,255,255,0.02); }
    code { font-family:'JetBrains Mono',monospace; background:var(--code-bg); border:1px solid var(--border); padding:1px 6px; border-radius:4px; font-size:0.84em; color:var(--orange); }

    /* CALLOUTS */
    .callout { border-radius:8px; padding:14px 18px; margin:18px 0; font-size:0.88rem; line-height:1.65; }
    .callout strong { display:block; margin-bottom:4px; font-weight:700; }
    .callout-info  { background:rgba(135,206,235,0.08); border-left:3px solid #87ceeb; color:#87ceeb; }
    .callout-warn  { background:rgba(255,200,0,0.08);   border-left:3px solid #ffc800; color:#ffc800; }
    .callout-error { background:rgba(255,100,100,0.08); border-left:3px solid #ff6464; color:#ff8888; }
    .callout-tip   { background:rgba(255,107,0,0.08);   border-left:3px solid var(--orange); color:var(--orange); }

    /* PAGE NAV */
    .page-nav { display:flex; justify-content:space-between; margin-top:56px; padding-top:22px; border-top:1px solid var(--border); gap:14px; }
    .page-nav-btn { background:var(--bg-card); border:1px solid var(--border); color:var(--gray); padding:13px 18px; border-radius:8px; cursor:pointer; font-family:'Syne',sans-serif; font-size:0.83rem; font-weight:600; transition:all 0.2s; text-align:left; flex:1; max-width:220px; }
    .page-nav-btn:hover { border-color:var(--orange); color:var(--white); }
    .page-nav-btn .nav-dir { font-size:0.68rem; color:var(--gray); margin-bottom:3px; }
    .page-nav-btn .nav-title { color:var(--white); }
    .page-nav-btn.next { text-align:right; margin-left:auto; }

    /* SCROLLBAR */
    ::-webkit-scrollbar { width:5px; }
    ::-webkit-scrollbar-track { background:transparent; }
    ::-webkit-scrollbar-thumb { background:var(--border); border-radius:3px; }
    ::-webkit-scrollbar-thumb:hover { background:var(--orange); }
  </style>
</head>
<body>

<aside class="sidebar">
  <div class="sidebar-header">
    <a href="../" class="sidebar-logo"><span>&lt;/&gt;</span> Proton#</a>
    <div class="sidebar-version">v0.1.0-draft</div>
    <a class="sidebar-back" href="../">‚Üê Back to main site</a>
  </div>
  <div class="sidebar-search">
    <input type="text" id="search-input" placeholder="üîç  Search docs..." oninput="searchDocs(this.value)"/>
  </div>
  <nav class="sidebar-nav" id="sidebar-nav">
    <div class="nav-label">Getting Started</div>
    <a class="nav-link active" onclick="showSection('overview')">      <span class="nav-icon">üè†</span> Overview</a>
    <a class="nav-link" onclick="showSection('file-format')">          <span class="nav-icon">üìÑ</span> File Format</a>
    <a class="nav-link" onclick="showSection('syntax')">               <span class="nav-icon">üìê</span> Syntax Rules</a>
    <div class="nav-label">Language</div>
    <a class="nav-link" onclick="showSection('types')">                <span class="nav-icon">üî¢</span> Data Types</a>
    <a class="nav-link" onclick="showSection('variables')">            <span class="nav-icon">üì¶</span> Variables</a>
    <a class="nav-link" onclick="showSection('operators')">            <span class="nav-icon">‚öôÔ∏è</span> Operators</a>
    <a class="nav-link" onclick="showSection('control-flow')">         <span class="nav-icon">üîÄ</span> Control Flow</a>
    <a class="nav-link" onclick="showSection('functions')">            <span class="nav-icon">üîß</span> Functions</a>
    <a class="nav-link" onclick="showSection('classes')">              <span class="nav-icon">üß±</span> Classes</a>
    <a class="nav-link" onclick="showSection('error-handling')">       <span class="nav-icon">‚ö†Ô∏è</span> Error Handling</a>
    <a class="nav-link" onclick="showSection('events')">               <span class="nav-icon">‚ö°</span> Events</a>
    <a class="nav-link" onclick="showSection('imports')">              <span class="nav-icon">üì¶</span> Imports</a>
    <div class="nav-label">Advanced</div>
    <a class="nav-link" onclick="showSection('datastores')">           <span class="nav-icon">üíæ</span> Datastores</a>
    <a class="nav-link" onclick="showSection('gui')">                  <span class="nav-icon">üñºÔ∏è</span> GUI Scripting</a>
    <a class="nav-link" onclick="showSection('backend-routing')">      <span class="nav-icon">üîÅ</span> Backend Routing</a>
    <a class="nav-link" onclick="showSection('builtins')">             <span class="nav-icon">üìö</span> Built-in Functions</a>
    <a class="nav-link" onclick="showSection('string-methods')">       <span class="nav-icon">üî§</span> String Methods</a>
    <a class="nav-link" onclick="showSection('array-methods')">        <span class="nav-icon">üóÇÔ∏è</span> Array & Table Methods</a>
    <a class="nav-link" onclick="showSection('math')">                 <span class="nav-icon">üî¢</span> Math Library</a>
    <div class="nav-label">üåê Networking</div>
    <a class="nav-link" onclick="showSection('networking-overview')">  <span class="nav-icon">üåê</span> Overview</a>
    <a class="nav-link" onclick="showSection('server-script')">        <span class="nav-icon">üñ•Ô∏è</span> Server Script</a>
    <a class="nav-link" onclick="showSection('client-script')">        <span class="nav-icon">üë§</span> Client Script</a>
    <a class="nav-link" onclick="showSection('network-api')">          <span class="nav-icon">üì°</span> Network API</a>
    <div class="nav-label">Reference</div>
    <a class="nav-link" onclick="showSection('comments')">             <span class="nav-icon">üí¨</span> Comments</a>
    <a class="nav-link" onclick="showSection('cheatsheet')">           <span class="nav-icon">‚ö°</span> Quick Reference</a>
    <div class="nav-label">Community</div>
    <a class="nav-link" href="https://proton-sharp.fandom.com/wiki/Proton_Sharp_Wiki" target="_blank"><span class="nav-icon">üåê</span> Community Wiki</a>
    <a class="nav-link" href="../" target="_blank"><span class="nav-icon">üè†</span> Main Site</a>
    <div class="no-results" id="no-results">No results found.</div>
  </nav>
</aside>

<div class="main">
  <div class="topbar">
    <div class="topbar-breadcrumb">proton# / docs / <span id="breadcrumb">overview</span></div>
    <div class="topbar-links">
      <a href="https://github.com/ProtonLanguage" target="_blank">GitHub</a>
      <a href="../">Main Site</a>
    </div>
  </div>

  <div class="content">

    <!-- ‚ïê‚ïê OVERVIEW ‚ïê‚ïê -->
    <div class="doc-section active" id="section-overview">
      <div class="section-tag">Getting Started</div>
      <h1>Welcome to <span>Proton</span></h1>
      <p class="section-intro">Proton is the official scripting language of the Proton# platform. It is strict, powerful, and professional ‚Äî combining Python, Lua, and C# into one language built for game development.</p>
      <h2>What is Proton?</h2>
      <p>Proton is a multi-backend scripting language. The Proton# compiler reads your <code>.pros</code> file and routes different parts to different backends automatically:</p>
      <table class="doc-table">
        <tr><th>Backend</th><th>Handles</th></tr>
        <tr><td><code>Python</code></td><td>Core logic, functions, loops, control flow</td></tr>
        <tr><td><code>Lua</code></td><td>Datastores ‚Äî saving and loading game data</td></tr>
        <tr><td><code>C#</code></td><td>GUI elements inside Proton# Studio</td></tr>
      </table>
      <div class="callout callout-tip"><strong>üí° Proton# Studio Autocorrect</strong>The Studio editor includes autocorrect that catches case errors as you type. Proton is strict by design ‚Äî the tools help you write it correctly.</div>
      <h2>Key Facts</h2>
      <h3>Case Sensitive</h3>
      <p>Proton is strictly case sensitive. <code>print</code> and <code>Print</code> are two completely different things.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="cmt">-- ‚úÖ Correct</span>
<span class="fn">print</span>(<span class="str">"Hello!"</span>);

<span class="cmt">-- ‚ùå Error ‚Äî wrong case</span>
<span class="fn">Print</span>(<span class="str">"Hello!"</span>);
<span class="fn">PRINT</span>(<span class="str">"Hello!"</span>);</pre>
      </div>
      <h3>Semicolons Required</h3>
      <p>Every statement must end with a semicolon <code>;</code>.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> x <span class="op">=</span> <span class="num">10</span>;
<span class="fn">print</span>(x);</pre>
      </div>
      <div class="page-nav">
        <div></div>
        <button class="page-nav-btn next" onclick="showSection('file-format')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">File Format</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê FILE FORMAT ‚ïê‚ïê -->
    <div class="doc-section" id="section-file-format">
      <div class="section-tag">Getting Started</div>
      <h1>File <span>Format</span></h1>
      <p class="section-intro">Proton scripts use the <code>.pros</code> file extension. Every game, script, and module you write in Proton is saved as a <code>.pros</code> file.</p>
      <h2>Examples</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">files</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre>mygame.pros
player.pros
datastore.pros
ui.pros</pre>
      </div>
      <h2>Encoding</h2>
      <p>All <code>.pros</code> files must be saved as <strong>UTF-8</strong>. Proton# Studio handles this automatically.</p>
      <div class="callout callout-info"><strong>‚ÑπÔ∏è Note</strong>The <code>.pros</code> extension stands for <strong>Pro</strong>ton <strong>S</strong>cript. It is unique to the Proton# platform.</div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('overview')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Overview</div></button>
        <button class="page-nav-btn next" onclick="showSection('syntax')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Syntax Rules</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê SYNTAX ‚ïê‚ïê -->
    <div class="doc-section" id="section-syntax">
      <div class="section-tag">Getting Started</div>
      <h1>Syntax <span>Rules</span></h1>
      <p class="section-intro">Proton has a small set of strict syntax rules. Learn these first ‚Äî they apply to every single line of code you write.</p>
      <h2>Semicolons</h2>
      <p>Every statement ends with a <code>;</code> semicolon.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="fn">print</span>(<span class="str">"Hello"</span>);
<span class="kw">var</span> x <span class="op">=</span> <span class="num">10</span>;
x <span class="op">=</span> x <span class="op">+</span> <span class="num">5</span>;</pre>
      </div>
      <h2>Case Sensitivity</h2>
      <p>Proton is case sensitive. All built-in keywords are lowercase. The Studio autocorrect will flag case errors.</p>
      <h2>Blocks</h2>
      <p>Code blocks use <code>do</code> and <code>end</code> keywords.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">if</span> x <span class="op">></span> <span class="num">5</span> <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"x is big"</span>);
<span class="kw">end</span>;</pre>
      </div>
      <h2>Whitespace</h2>
      <p>Whitespace is ignored. Use it freely to keep code readable.</p>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('file-format')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">File Format</div></button>
        <button class="page-nav-btn next" onclick="showSection('types')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Data Types</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê DATA TYPES ‚ïê‚ïê -->
    <div class="doc-section" id="section-types">
      <div class="section-tag">Language</div>
      <h1>Data <span>Types</span></h1>
      <p class="section-intro">Proton supports all Luau data types for full compatibility with the Lua datastore backend.</p>
      <table class="doc-table">
        <tr><th>Type</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>int</code></td><td>Whole numbers</td><td><code>42</code>, <code>-7</code></td></tr>
        <tr><td><code>float</code></td><td>Decimal numbers</td><td><code>3.14</code>, <code>-0.5</code></td></tr>
        <tr><td><code>string</code></td><td>Text in quotes</td><td><code>"Hello"</code></td></tr>
        <tr><td><code>bool</code></td><td>True or false</td><td><code>true</code>, <code>false</code></td></tr>
        <tr><td><code>array</code></td><td>Ordered list</td><td><code>[1, 2, 3]</code></td></tr>
        <tr><td><code>table</code></td><td>Key-value pairs</td><td><code>{name: "Xynox1"}</code></td></tr>
      </table>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> lives     <span class="op">=</span> <span class="num">3</span>;
<span class="kw">var</span> speed     <span class="op">=</span> <span class="num">1.5</span>;
<span class="kw">var</span> name      <span class="op">=</span> <span class="str">"Xynox1"</span>;
<span class="kw">var</span> isAlive   <span class="op">=</span> <span class="kw">true</span>;
<span class="kw">var</span> inventory <span class="op">=</span> [<span class="str">"sword"</span>, <span class="str">"shield"</span>, <span class="str">"potion"</span>];
<span class="kw">var</span> player    <span class="op">=</span> {name: <span class="str">"Xynox1"</span>, health: <span class="num">100</span>};</pre>
      </div>
      <h2>Type Checking</h2>
      <p>Use <code>typeof()</code> to check a value's type at runtime.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="fn">typeof</span>(<span class="num">42</span>);       <span class="cmt">-- "int"</span>
<span class="fn">typeof</span>(<span class="str">"hello"</span>);  <span class="cmt">-- "string"</span>
<span class="fn">typeof</span>(<span class="kw">true</span>);     <span class="cmt">-- "bool"</span></pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('syntax')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Syntax Rules</div></button>
        <button class="page-nav-btn next" onclick="showSection('variables')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Variables</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê VARIABLES ‚ïê‚ïê -->
    <div class="doc-section" id="section-variables">
      <div class="section-tag">Language</div>
      <h1><span>Variables</span></h1>
      <p class="section-intro">Proton has a full variable scoping system. Variables can be script-local, global across all scripts via modules, regular, or constant. Understanding scope is key to writing clean Proton code.</p>

      <h2>Overview</h2>
      <table class="doc-table">
        <tr><th>Syntax</th><th>Scope</th><th>Changeable?</th></tr>
        <tr><td><code>var x = 10;</code></td><td>Current script</td><td>Yes</td></tr>
        <tr><td><code>var:local x = 10;</code></td><td>Current script only ‚Äî isolated</td><td>Yes</td></tr>
        <tr><td><code>const x = 10;</code></td><td>Current script</td><td>No</td></tr>
        <tr><td><code>const:local x = 10;</code></td><td>Current script only ‚Äî isolated</td><td>No</td></tr>
        <tr><td><code>module.x = 10;</code></td><td>Global ‚Äî all scripts</td><td>Yes</td></tr>
      </table>

      <h2>Regular Variables</h2>
      <p>Declared with <code>var</code>. Accessible within the current script.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> x    <span class="op">=</span> <span class="num">10</span>;
<span class="kw">var</span> name <span class="op">=</span> <span class="str">"Xynox1"</span>;
<span class="kw">var</span> flag <span class="op">=</span> <span class="kw">false</span>;</pre>
      </div>

      <h2>Local Variables</h2>
      <p>Declared with <code>var:local</code>. Completely isolated to the current script. Two different scripts can both have a <code>var:local</code> with the same name and they will never interfere with each other.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="cmt">-- script1.pros</span>
<span class="kw">var:local</span> hi <span class="op">=</span> <span class="str">"Hello from script 1"</span>;

<span class="cmt">-- script2.pros</span>
<span class="kw">var:local</span> hi <span class="op">=</span> <span class="str">"Hello from script 2"</span>;

<span class="cmt">-- These are completely separate. No conflict!</span></pre>
      </div>

      <h2>Local Constants</h2>
      <p>Declared with <code>const:local</code>. Same isolation as <code>var:local</code> but cannot be reassigned.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">const:local</span> MAX_SPEED <span class="op">=</span> <span class="num">50</span>;

MAX_SPEED <span class="op">=</span> <span class="num">100</span>; <span class="cmt">-- ‚ùå Error: Cannot reassign a constant</span></pre>
      </div>

      <h2>Module Variables (Global)</h2>
      <p>Declared with <code>module.x</code>. These are global and accessible from every script in the project. Use these carefully ‚Äî changes in one script affect all others.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="cmt">-- Set a global variable</span>
module.playerName <span class="op">=</span> <span class="str">"Xynox1"</span>;
module.score      <span class="op">=</span> <span class="num">0</span>;

<span class="cmt">-- Read it from any other script</span>
<span class="fn">print</span>(module.playerName); <span class="cmt">-- Xynox1</span></pre>
      </div>

      <div class="callout callout-warn">
        <strong>‚ö†Ô∏è Name Conflict Warning</strong>
        If you declare a <code>var:local</code> with the same name as an existing <code>module</code> variable, Proton# Studio will show an automated warning:<br/><br/>
        <em>"x is already a variable used globally. Please choose a different name or change the module variable."</em>
      </div>

      <h2>Constants</h2>
      <p>Declared with <code>const</code>. Cannot be changed after assignment.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">const</span> MAX_PLAYERS <span class="op">=</span> <span class="num">10</span>;
<span class="kw">const</span> GAME_NAME   <span class="op">=</span> <span class="str">"My Game"</span>;

MAX_PLAYERS <span class="op">=</span> <span class="num">20</span>; <span class="cmt">-- ‚ùå Error: Cannot reassign a constant</span></pre>
      </div>

      <h2>Reassignment</h2>
      <p>Variables (<code>var</code> and <code>var:local</code>) can be reassigned without the keyword.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> score <span class="op">=</span> <span class="num">0</span>;
score <span class="op">=</span> <span class="num">100</span>;
score <span class="op">=</span> score <span class="op">+</span> <span class="num">50</span>;</pre>
      </div>

      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('types')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Data Types</div></button>
        <button class="page-nav-btn next" onclick="showSection('operators')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Operators</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê OPERATORS ‚ïê‚ïê -->
    <div class="doc-section" id="section-operators">
      <div class="section-tag">Language</div>
      <h1><span>Operators</span></h1>
      <p class="section-intro">Operators let you perform math, compare values, and combine logic.</p>
      <h2>Arithmetic</h2>
      <table class="doc-table">
        <tr><th>Operator</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>+</code></td><td>Addition</td><td><code>5 + 3</code> ‚Üí <code>8</code></td></tr>
        <tr><td><code>-</code></td><td>Subtraction</td><td><code>10 - 4</code> ‚Üí <code>6</code></td></tr>
        <tr><td><code>*</code></td><td>Multiplication</td><td><code>3 * 4</code> ‚Üí <code>12</code></td></tr>
        <tr><td><code>/</code></td><td>Division</td><td><code>10 / 2</code> ‚Üí <code>5</code></td></tr>
        <tr><td><code>%</code></td><td>Modulo (remainder)</td><td><code>10 % 3</code> ‚Üí <code>1</code></td></tr>
        <tr><td><code>**</code></td><td>Power</td><td><code>2 ** 3</code> ‚Üí <code>8</code></td></tr>
      </table>
      <h2>Comparison</h2>
      <table class="doc-table">
        <tr><th>Operator</th><th>Description</th></tr>
        <tr><td><code>==</code></td><td>Equal to</td></tr>
        <tr><td><code>!=</code></td><td>Not equal to</td></tr>
        <tr><td><code>&gt;</code></td><td>Greater than</td></tr>
        <tr><td><code>&lt;</code></td><td>Less than</td></tr>
        <tr><td><code>&gt;=</code></td><td>Greater or equal</td></tr>
        <tr><td><code>&lt;=</code></td><td>Less or equal</td></tr>
      </table>
      <h2>Logical</h2>
      <table class="doc-table">
        <tr><th>Operator</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>and</code></td><td>Both must be true</td><td><code>x > 0 and y > 0</code></td></tr>
        <tr><td><code>or</code></td><td>At least one true</td><td><code>x > 0 or y > 0</code></td></tr>
        <tr><td><code>not</code></td><td>Inverts the value</td><td><code>not isAlive</code></td></tr>
      </table>
      <h2>String Concatenation</h2>
      <p>Use <code>..</code> to join strings.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> greeting <span class="op">=</span> <span class="str">"Hello, "</span> <span class="op">..</span> playerName <span class="op">..</span> <span class="str">"!"</span>;</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('variables')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Variables</div></button>
        <button class="page-nav-btn next" onclick="showSection('control-flow')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Control Flow</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê CONTROL FLOW ‚ïê‚ïê -->
    <div class="doc-section" id="section-control-flow">
      <div class="section-tag">Language</div>
      <h1>Control <span>Flow</span></h1>
      <p class="section-intro">Control flow lets your code make decisions and repeat actions.</p>
      <h2>If / Else If / Else</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">if</span> score <span class="op">></span> <span class="num">100</span> <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"Amazing!"</span>);
<span class="kw">else if</span> score <span class="op">></span> <span class="num">50</span> <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"Good!"</span>);
<span class="kw">else</span> <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"Keep trying!"</span>);
<span class="kw">end</span>;</pre>
      </div>
      <h2>While Loop</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> i <span class="op">=</span> <span class="num">0</span>;
<span class="kw">while</span> i <span class="op"><</span> <span class="num">10</span> <span class="kw">do</span>
    <span class="fn">print</span>(i);
    i <span class="op">=</span> i <span class="op">+</span> <span class="num">1</span>;
<span class="kw">end</span>;</pre>
      </div>
      <h2>For Loop</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">for</span> i <span class="op">=</span> <span class="num">1</span> <span class="kw">to</span> <span class="num">10</span> <span class="kw">do</span>
    <span class="fn">print</span>(i);
<span class="kw">end</span>;</pre>
      </div>
      <h2>For Each</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> inventory <span class="op">=</span> [<span class="str">"sword"</span>, <span class="str">"shield"</span>, <span class="str">"potion"</span>];
<span class="kw">for each</span> item <span class="kw">in</span> inventory <span class="kw">do</span>
    <span class="fn">print</span>(item);
<span class="kw">end</span>;</pre>
      </div>
      <h2>Break and Continue</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">for</span> i <span class="op">=</span> <span class="num">1</span> <span class="kw">to</span> <span class="num">10</span> <span class="kw">do</span>
    <span class="kw">if</span> i <span class="op">==</span> <span class="num">5</span> <span class="kw">do</span> <span class="kw">break</span>; <span class="kw">end</span>;     <span class="cmt">-- stop loop at 5</span>
    <span class="kw">if</span> i <span class="op">==</span> <span class="num">3</span> <span class="kw">do</span> <span class="kw">continue</span>; <span class="kw">end</span>;  <span class="cmt">-- skip 3</span>
    <span class="fn">print</span>(i);
<span class="kw">end</span>;</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('operators')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Operators</div></button>
        <button class="page-nav-btn next" onclick="showSection('functions')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Functions</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê FUNCTIONS ‚ïê‚ïê -->
    <div class="doc-section" id="section-functions">
      <div class="section-tag">Language</div>
      <h1><span>Functions</span></h1>
      <p class="section-intro">Functions let you group code so you can reuse it. Define once, call anywhere.</p>
      <h2>Defining a Function</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">func</span> <span class="fn">greet</span>(name) <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"Hello, "</span> <span class="op">..</span> name <span class="op">..</span> <span class="str">"!"</span>);
<span class="kw">end</span>;</pre>
      </div>
      <h2>Returning a Value</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">func</span> <span class="fn">add</span>(a, b) <span class="kw">do</span>
    <span class="kw">return</span> a <span class="op">+</span> b;
<span class="kw">end</span>;

<span class="kw">var</span> result <span class="op">=</span> <span class="fn">add</span>(<span class="num">5</span>, <span class="num">3</span>);
<span class="fn">print</span>(result); <span class="cmt">-- 8</span></pre>
      </div>
      <h2>Default Parameters</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">func</span> <span class="fn">greet</span>(name <span class="op">=</span> <span class="str">"Player"</span>) <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"Hello, "</span> <span class="op">..</span> name <span class="op">..</span> <span class="str">"!"</span>);
<span class="kw">end</span>;

<span class="fn">greet</span>();           <span class="cmt">-- Hello, Player!</span>
<span class="fn">greet</span>(<span class="str">"Xynox1"</span>);   <span class="cmt">-- Hello, Xynox1!</span></pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('control-flow')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Control Flow</div></button>
        <button class="page-nav-btn next" onclick="showSection('error-handling')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Error Handling</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê ERROR HANDLING ‚ïê‚ïê -->
    <div class="doc-section" id="section-error-handling">
      <div class="section-tag">Language</div>
      <h1>Error <span>Handling</span></h1>
      <p class="section-intro">Proton supports two styles of error handling ‚Äî use whichever fits best.</p>
      <h2>Try / Catch</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">try</span> <span class="kw">do</span>
    <span class="kw">var</span> result <span class="op">=</span> <span class="num">10</span> <span class="op">/</span> <span class="num">0</span>;
<span class="kw">catch</span> error <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"Error: "</span> <span class="op">..</span> error);
<span class="kw">end</span>;</pre>
      </div>
      <h2>If / Else Checking</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">if</span> <span class="fn">typeof</span>(x) <span class="op">!=</span> <span class="str">"int"</span> <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"x must be a number!"</span>);
<span class="kw">else</span> <span class="kw">do</span>
    <span class="fn">print</span>(x <span class="op">*</span> <span class="num">2</span>);
<span class="kw">end</span>;</pre>
      </div>
      <h2>Throwing Errors</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">func</span> <span class="fn">divide</span>(a, b) <span class="kw">do</span>
    <span class="kw">if</span> b <span class="op">==</span> <span class="num">0</span> <span class="kw">do</span>
        <span class="kw">throw</span> <span class="str">"Cannot divide by zero!"</span>;
    <span class="kw">end</span>;
    <span class="kw">return</span> a <span class="op">/</span> b;
<span class="kw">end</span>;</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('functions')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Functions</div></button>
        <button class="page-nav-btn next" onclick="showSection('datastores')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Datastores</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê DATASTORES ‚ïê‚ïê -->
    <div class="doc-section" id="section-datastores">
      <div class="section-tag">Advanced</div>
      <h1><span>Datastores</span></h1>
      <p class="section-intro">Datastores are powered by the Lua backend and handle all saving and loading of game data.</p>
      <div class="callout callout-info"><strong>‚ÑπÔ∏è Lua Backend</strong>All <code>datastore.*</code> calls are automatically routed to Lua by the Proton# compiler. You do not need to do anything special ‚Äî just use the functions below.</div>
      <h2>Saving Data</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="fn">datastore</span>.save(<span class="str">"playerData"</span>, {
    name:  playerName,
    score: score,
    level: currentLevel
});</pre>
      </div>
      <h2>Loading Data</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var</span> data  <span class="op">=</span> <span class="fn">datastore</span>.load(<span class="str">"playerData"</span>);
<span class="kw">var</span> score <span class="op">=</span> data.score;
<span class="kw">var</span> level <span class="op">=</span> data.level;</pre>
      </div>
      <h2>Checking if Data Exists</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">if</span> <span class="fn">datastore</span>.exists(<span class="str">"playerData"</span>) <span class="kw">do</span>
    <span class="kw">var</span> data <span class="op">=</span> <span class="fn">datastore</span>.load(<span class="str">"playerData"</span>);
<span class="kw">else</span> <span class="kw">do</span>
    <span class="fn">print</span>(<span class="str">"No save found. Starting fresh!"</span>);
<span class="kw">end</span>;</pre>
      </div>
      <h2>Deleting Data</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="fn">datastore</span>.delete(<span class="str">"playerData"</span>);</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('error-handling')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Error Handling</div></button>
        <button class="page-nav-btn next" onclick="showSection('backend-routing')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Backend Routing</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê BACKEND ROUTING ‚ïê‚ïê -->
    <div class="doc-section" id="section-backend-routing">
      <div class="section-tag">Advanced</div>
      <h1>Backend <span>Routing</span></h1>
      <p class="section-intro">The Proton# compiler automatically routes your code to the right backend. You rarely need to think about this ‚Äî but here is how it works.</p>
      <table class="doc-table">
        <tr><th>Code Type</th><th>Backend</th></tr>
        <tr><td>General logic, functions, loops</td><td><code>Python</code></td></tr>
        <tr><td><code>datastore.*</code> calls</td><td><code>Lua</code></td></tr>
        <tr><td>GUI / Studio elements</td><td><code>C#</code></td></tr>
      </table>
      <h2>Manual Backend Hints</h2>
      <p>In rare cases you can force a block to a specific backend using <code>@</code> hints.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="op">@lua</span>
<span class="cmt">-- Forced to Lua backend</span>
<span class="kw">var</span> data <span class="op">=</span> <span class="fn">datastore</span>.load(<span class="str">"playerData"</span>);

<span class="op">@python</span>
<span class="cmt">-- Forced to Python backend</span>
<span class="kw">var</span> result <span class="op">=</span> <span class="fn">add</span>(<span class="num">10</span>, <span class="num">20</span>);</pre>
      </div>
      <div class="callout callout-warn"><strong>‚ö†Ô∏è Warning</strong>Manual backend hints should only be used when absolutely necessary. The compiler handles routing correctly in almost all cases.</div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('datastores')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Datastores</div></button>
        <button class="page-nav-btn next" onclick="showSection('builtins')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Built-in Functions</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê BUILTINS ‚ïê‚ïê -->
    <div class="doc-section" id="section-builtins">
      <div class="section-tag">Advanced</div>
      <h1>Built-in <span>Functions</span></h1>
      <p class="section-intro">These functions are built into Proton and available everywhere without importing anything.</p>
      <table class="doc-table">
        <tr><th>Function</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>print(value)</code></td><td>Output to console</td><td><code>print("Hi");</code></td></tr>
        <tr><td><code>typeof(value)</code></td><td>Returns type as string</td><td><code>typeof(42)</code> ‚Üí <code>"int"</code></td></tr>
        <tr><td><code>tostring(value)</code></td><td>Convert to string</td><td><code>tostring(42)</code> ‚Üí <code>"42"</code></td></tr>
        <tr><td><code>toint(value)</code></td><td>Convert to int</td><td><code>toint("42")</code> ‚Üí <code>42</code></td></tr>
        <tr><td><code>tofloat(value)</code></td><td>Convert to float</td><td><code>tofloat("3.14")</code> ‚Üí <code>3.14</code></td></tr>
        <tr><td><code>len(value)</code></td><td>Length of string or array</td><td><code>len("hello")</code> ‚Üí <code>5</code></td></tr>
        <tr><td><code>wait(seconds)</code></td><td>Pause execution</td><td><code>wait(2);</code></td></tr>
        <tr><td><code>random(min, max)</code></td><td>Random int in range</td><td><code>random(1, 10)</code></td></tr>
      </table>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('backend-routing')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Backend Routing</div></button>
        <button class="page-nav-btn next" onclick="showSection('comments')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Comments</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê CLASSES ‚ïê‚ïê -->
    <div class="doc-section" id="section-classes">
      <div class="section-tag">Language</div>
      <h1><span>Classes</span></h1>
      <p class="section-intro">Classes let you group related data and functions together into reusable objects.</p>
      <h2>Defining a Class</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">class</span> Player <span class="kw">do</span>
    <span class="kw">var:local</span> name   <span class="op">=</span> <span class="str">"Unknown"</span>;
    <span class="kw">var:local</span> health <span class="op">=</span> <span class="num">100</span>;

    <span class="kw">func</span> init(playerName) <span class="kw">do</span>
        name <span class="op">=</span> playerName;
    <span class="kw">end</span>;

    <span class="kw">func</span> takeDamage(amount) <span class="kw">do</span>
        health <span class="op">=</span> health <span class="op">-</span> amount;
        <span class="kw">if</span> health <span class="op">&lt;=</span> <span class="num">0</span> <span class="kw">do</span>
            health <span class="op">=</span> <span class="num">0</span>;
            print(name <span class="op">..</span> <span class="str">" has died."</span>);
        <span class="kw">end</span>;
    <span class="kw">end</span>;

    <span class="kw">func</span> getHealth() <span class="kw">do</span>
        <span class="kw">return</span> health;
    <span class="kw">end</span>;
<span class="kw">end</span>;</pre>
      </div>
      <h2>Creating an Instance</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var:local</span> p1 <span class="op">=</span> Player.new(<span class="str">"Xynox1"</span>);
p1.takeDamage(<span class="num">30</span>);
print(p1.getHealth()); <span class="cmt">-- 70</span></pre>
      </div>
      <h2>Inheritance</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">class</span> Enemy <span class="kw">extends</span> Player <span class="kw">do</span>
    <span class="kw">var:local</span> damage <span class="op">=</span> <span class="num">10</span>;

    <span class="kw">func</span> attack(target) <span class="kw">do</span>
        target.takeDamage(damage);
    <span class="kw">end</span>;
<span class="kw">end</span>;</pre>
      </div>
      <h2>Static Methods</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">class</span> MathHelper <span class="kw">do</span>
    <span class="kw">static func</span> clamp(value, min, max) <span class="kw">do</span>
        <span class="kw">if</span> value <span class="op">&lt;</span> min <span class="kw">do</span> <span class="kw">return</span> min; <span class="kw">end</span>;
        <span class="kw">if</span> value <span class="op">&gt;</span> max <span class="kw">do</span> <span class="kw">return</span> max; <span class="kw">end</span>;
        <span class="kw">return</span> value;
    <span class="kw">end</span>;
<span class="kw">end</span>;

<span class="kw">var:local</span> clamped <span class="op">=</span> MathHelper.clamp(<span class="num">150</span>, <span class="num">0</span>, <span class="num">100</span>); <span class="cmt">-- 100</span></pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('functions')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Functions</div></button>
        <button class="page-nav-btn next" onclick="showSection('error-handling')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Error Handling</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê EVENTS ‚ïê‚ïê -->
    <div class="doc-section" id="section-events">
      <div class="section-tag">Language</div>
      <h1><span>Events</span></h1>
      <p class="section-intro">Events let your scripts react to things that happen in the game ‚Äî key presses, collisions, player joins, and more.</p>
      <h2>Listening to an Event</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre>event.on(<span class="str">"PlayerJoin"</span>, <span class="kw">func</span>(player) <span class="kw">do</span>
    print(player.name <span class="op">..</span> <span class="str">" joined!"</span>);
<span class="kw">end</span>);</pre>
      </div>
      <h2>Firing an Event</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre>event.fire(<span class="str">"PlayerJoin"</span>, currentPlayer);</pre>
      </div>
      <h2>One-time Events</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre>event.once(<span class="str">"GameStart"</span>, <span class="kw">func</span>() <span class="kw">do</span>
    print(<span class="str">"Game has started!"</span>);
<span class="kw">end</span>);</pre>
      </div>
      <h2>Removing a Listener</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre>event.off(<span class="str">"PlayerJoin"</span>);</pre>
      </div>
      <h2>Built-in Game Events</h2>
      <table class="doc-table">
        <tr><th>Event</th><th>Fires When</th></tr>
        <tr><td><code>PlayerJoin</code></td><td>A player joins the game</td></tr>
        <tr><td><code>PlayerLeave</code></td><td>A player leaves the game</td></tr>
        <tr><td><code>GameStart</code></td><td>The game starts</td></tr>
        <tr><td><code>GameEnd</code></td><td>The game ends</td></tr>
        <tr><td><code>ObjectClick</code></td><td>A game object is clicked</td></tr>
        <tr><td><code>ObjectTouch</code></td><td>Two objects collide</td></tr>
        <tr><td><code>KeyPress</code></td><td>A key is pressed</td></tr>
        <tr><td><code>KeyRelease</code></td><td>A key is released</td></tr>
      </table>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre>event.on(<span class="str">"KeyPress"</span>, <span class="kw">func</span>(key) <span class="kw">do</span>
    <span class="kw">if</span> key <span class="op">==</span> <span class="str">"Space"</span> <span class="kw">do</span>
        player.jump();
    <span class="kw">end</span>;
<span class="kw">end</span>);</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('error-handling')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Error Handling</div></button>
        <button class="page-nav-btn next" onclick="showSection('imports')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Imports</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê IMPORTS ‚ïê‚ïê -->
    <div class="doc-section" id="section-imports">
      <div class="section-tag">Language</div>
      <h1><span>Import System</span></h1>
      <p class="section-intro">Import other <code>.pros</code> files or standard libraries into your script. Proton# also has Edu and Enterprise libraries available for free or paid plans.</p>
      <h2>Importing a Script</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">import</span> <span class="str">"player.pros"</span>;
<span class="kw">import</span> <span class="str">"enemies/goblin.pros"</span> <span class="kw">as</span> Goblin;</pre>
      </div>
      <h2>Standard Library (Free ‚Äî All Users)</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">import</span> std.math;
<span class="kw">import</span> std.string;
<span class="kw">import</span> std.array;
<span class="kw">import</span> std.events;
<span class="kw">import</span> std.datastore;
<span class="kw">import</span> std.gui;
<span class="kw">import</span> std.network;</pre>
      </div>
      <h2>Edu Library (Free ‚Äî Education License)</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">import</span> edu.physics;
<span class="kw">import</span> edu.geometry;
<span class="kw">import</span> edu.ai;
<span class="kw">import</span> edu.data;
<span class="kw">import</span> edu.algorithms;</pre>
      </div>
      <h2>Enterprise Library (Paid)</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">import</span> enterprise.analytics;
<span class="kw">import</span> enterprise.ads;
<span class="kw">import</span> enterprise.auth;
<span class="kw">import</span> enterprise.cloud;
<span class="kw">import</span> enterprise.payments;</pre>
      </div>
      <h2>Community Packages (Marketplace)</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">import</span> pkg.xynox1.inventory_system;
<span class="kw">import</span> pkg.username.dialogue_engine;</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('events')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Events</div></button>
        <button class="page-nav-btn next" onclick="showSection('datastores')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Datastores</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê GUI ‚ïê‚ïê -->
    <div class="doc-section" id="section-gui">
      <div class="section-tag">Advanced</div>
      <h1><span>GUI Scripting</span></h1>
      <p class="section-intro">GUI scripts control the user interface of your game ‚Äî buttons, labels, panels, sliders, and more.</p>
      <h2>Creating an Element</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">var:local</span> btn <span class="op">=</span> gui.create(<span class="str">"Button"</span>);
btn.text      <span class="op">=</span> <span class="str">"Play"</span>;
btn.x         <span class="op">=</span> <span class="num">100</span>;
btn.y         <span class="op">=</span> <span class="num">200</span>;
btn.width     <span class="op">=</span> <span class="num">120</span>;
btn.height    <span class="op">=</span> <span class="num">40</span>;
btn.color     <span class="op">=</span> <span class="str">"#FF6B00"</span>;
btn.textColor <span class="op">=</span> <span class="str">"#ffffff"</span>;
gui.add(btn);</pre>
      </div>
      <h2>GUI Events</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre>btn.onClick(<span class="kw">func</span>() <span class="kw">do</span>
    event.fire(<span class="str">"GameStart"</span>);
<span class="kw">end</span>);

btn.onHover(<span class="kw">func</span>() <span class="kw">do</span>
    btn.color <span class="op">=</span> <span class="str">"#ff8c42"</span>;
<span class="kw">end</span>);</pre>
      </div>
      <h2>GUI Elements</h2>
      <table class="doc-table">
        <tr><th>Element</th><th>Description</th></tr>
        <tr><td><code>Button</code></td><td>Clickable button</td></tr>
        <tr><td><code>Label</code></td><td>Text display</td></tr>
        <tr><td><code>Image</code></td><td>Display an image</td></tr>
        <tr><td><code>Panel</code></td><td>Container / background</td></tr>
        <tr><td><code>TextInput</code></td><td>Text input field</td></tr>
        <tr><td><code>Slider</code></td><td>Value slider</td></tr>
        <tr><td><code>Checkbox</code></td><td>Toggle checkbox</td></tr>
        <tr><td><code>ProgressBar</code></td><td>Progress display</td></tr>
        <tr><td><code>Frame</code></td><td>Invisible container</td></tr>
      </table>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('datastores')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Datastores</div></button>
        <button class="page-nav-btn next" onclick="showSection('backend-routing')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Backend Routing</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê STRING METHODS ‚ïê‚ïê -->
    <div class="doc-section" id="section-string-methods">
      <div class="section-tag">Advanced</div>
      <h1><span>String Methods</span></h1>
      <p class="section-intro">String methods are called directly on any string value using dot notation.</p>
      <table class="doc-table">
        <tr><th>Method</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>.upper()</code></td><td>Uppercase</td><td><code>"hello".upper()</code> ‚Üí <code>"HELLO"</code></td></tr>
        <tr><td><code>.lower()</code></td><td>Lowercase</td><td><code>"HELLO".lower()</code> ‚Üí <code>"hello"</code></td></tr>
        <tr><td><code>.trim()</code></td><td>Remove whitespace</td><td><code>"  hi  ".trim()</code> ‚Üí <code>"hi"</code></td></tr>
        <tr><td><code>.split(sep)</code></td><td>Split into array</td><td><code>"a,b".split(",")</code></td></tr>
        <tr><td><code>.replace(a, b)</code></td><td>Replace substring</td><td><code>"hi world".replace("world","Proton")</code></td></tr>
        <tr><td><code>.contains(str)</code></td><td>Check if contains</td><td><code>"hello".contains("ell")</code> ‚Üí <code>true</code></td></tr>
        <tr><td><code>.startsWith(str)</code></td><td>Starts with</td><td><code>"hello".startsWith("he")</code> ‚Üí <code>true</code></td></tr>
        <tr><td><code>.endsWith(str)</code></td><td>Ends with</td><td><code>"hello".endsWith("lo")</code> ‚Üí <code>true</code></td></tr>
        <tr><td><code>.indexOf(str)</code></td><td>Find position</td><td><code>"hello".indexOf("l")</code> ‚Üí <code>2</code></td></tr>
        <tr><td><code>.sub(s, e)</code></td><td>Substring</td><td><code>"hello".sub(1,3)</code> ‚Üí <code>"hel"</code></td></tr>
        <tr><td><code>.repeat(n)</code></td><td>Repeat string</td><td><code>"ab".repeat(3)</code> ‚Üí <code>"ababab"</code></td></tr>
      </table>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('builtins')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Built-in Functions</div></button>
        <button class="page-nav-btn next" onclick="showSection('array-methods')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Array & Table Methods</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê ARRAY METHODS ‚ïê‚ïê -->
    <div class="doc-section" id="section-array-methods">
      <div class="section-tag">Advanced</div>
      <h1><span>Array &amp; Table Methods</span></h1>
      <p class="section-intro">Arrays and tables have built-in methods you can call directly on them.</p>
      <h2>Array Methods</h2>
      <table class="doc-table">
        <tr><th>Method</th><th>Description</th></tr>
        <tr><td><code>.push(value)</code></td><td>Add to end</td></tr>
        <tr><td><code>.pop()</code></td><td>Remove and return last item</td></tr>
        <tr><td><code>.shift()</code></td><td>Remove and return first item</td></tr>
        <tr><td><code>.unshift(value)</code></td><td>Add to beginning</td></tr>
        <tr><td><code>.insert(i, value)</code></td><td>Insert at index</td></tr>
        <tr><td><code>.remove(index)</code></td><td>Remove at index</td></tr>
        <tr><td><code>.contains(value)</code></td><td>Check if value exists</td></tr>
        <tr><td><code>.indexOf(value)</code></td><td>Find index of value</td></tr>
        <tr><td><code>.reverse()</code></td><td>Reverse the array</td></tr>
        <tr><td><code>.sort()</code></td><td>Sort ascending</td></tr>
        <tr><td><code>.slice(s, e)</code></td><td>Get sub-array</td></tr>
        <tr><td><code>.join(sep)</code></td><td>Join into string</td></tr>
        <tr><td><code>.map(func)</code></td><td>Transform each item</td></tr>
        <tr><td><code>.filter(func)</code></td><td>Filter items</td></tr>
        <tr><td><code>.forEach(func)</code></td><td>Loop over items</td></tr>
      </table>
      <h2>Table Methods</h2>
      <table class="doc-table">
        <tr><th>Method</th><th>Description</th></tr>
        <tr><td><code>.keys()</code></td><td>Get all keys as array</td></tr>
        <tr><td><code>.values()</code></td><td>Get all values as array</td></tr>
        <tr><td><code>.has(key)</code></td><td>Check if key exists</td></tr>
        <tr><td><code>.delete(key)</code></td><td>Remove a key</td></tr>
        <tr><td><code>.merge(table)</code></td><td>Merge another table in</td></tr>
        <tr><td><code>.len()</code></td><td>Count of keys</td></tr>
      </table>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('string-methods')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">String Methods</div></button>
        <button class="page-nav-btn next" onclick="showSection('math')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Math Library</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê MATH ‚ïê‚ïê -->
    <div class="doc-section" id="section-math">
      <div class="section-tag">Advanced</div>
      <h1><span>Math Library</span></h1>
      <p class="section-intro">The <code>math</code> module provides common math utilities for game development.</p>
      <table class="doc-table">
        <tr><th>Function</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>math.huge</code></td><td>Largest number (~infinity)</td><td><code>math.huge</code></td></tr>
        <tr><td><code>math.pi</code></td><td>œÄ (3.14159...)</td><td><code>math.pi</code></td></tr>
        <tr><td><code>math.abs(n)</code></td><td>Absolute value</td><td><code>math.abs(-5)</code> ‚Üí <code>5</code></td></tr>
        <tr><td><code>math.floor(n)</code></td><td>Round down</td><td><code>math.floor(3.9)</code> ‚Üí <code>3</code></td></tr>
        <tr><td><code>math.ceil(n)</code></td><td>Round up</td><td><code>math.ceil(3.1)</code> ‚Üí <code>4</code></td></tr>
        <tr><td><code>math.round(n)</code></td><td>Round nearest</td><td><code>math.round(3.5)</code> ‚Üí <code>4</code></td></tr>
        <tr><td><code>math.sqrt(n)</code></td><td>Square root</td><td><code>math.sqrt(16)</code> ‚Üí <code>4</code></td></tr>
        <tr><td><code>math.min(a, b)</code></td><td>Minimum</td><td><code>math.min(3, 7)</code> ‚Üí <code>3</code></td></tr>
        <tr><td><code>math.max(a, b)</code></td><td>Maximum</td><td><code>math.max(3, 7)</code> ‚Üí <code>7</code></td></tr>
        <tr><td><code>math.clamp(v, min, max)</code></td><td>Clamp value</td><td><code>math.clamp(150, 0, 100)</code> ‚Üí <code>100</code></td></tr>
        <tr><td><code>math.sin(n)</code></td><td>Sine</td><td><code>math.sin(math.pi)</code></td></tr>
        <tr><td><code>math.cos(n)</code></td><td>Cosine</td><td><code>math.cos(0)</code> ‚Üí <code>1</code></td></tr>
        <tr><td><code>math.random(min, max)</code></td><td>Random integer</td><td><code>math.random(1, 6)</code></td></tr>
        <tr><td><code>math.randomFloat(min, max)</code></td><td>Random float</td><td><code>math.randomFloat(0, 1)</code></td></tr>
        <tr><td><code>math.lerp(a, b, t)</code></td><td>Linear interpolate</td><td><code>math.lerp(0, 100, 0.5)</code> ‚Üí <code>50</code></td></tr>
        <tr><td><code>math.distance(x1,y1,x2,y2)</code></td><td>2D distance</td><td><code>math.distance(0,0,3,4)</code> ‚Üí <code>5</code></td></tr>
      </table>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('array-methods')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Array & Table Methods</div></button>
        <button class="page-nav-btn next" onclick="showSection('networking-overview')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Networking Overview</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê NETWORKING OVERVIEW ‚ïê‚ïê -->
    <div class="doc-section" id="section-networking-overview">
      <div class="section-tag">üåê Networking</div>
      <h1><span>Networking Overview</span></h1>
      <p class="section-intro">Proton# multiplayer is <strong>player hosted</strong>. There are no central servers ‚Äî one player runs <code>server.pros</code> on their machine and others connect to their IP. No player limit except the host's hardware.</p>
      <h2>How It Works</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">diagram</span></div>
        <pre>Developer builds game + server.pros
         ‚Üì
Player wants to host
    ‚Üí Runs server.pros on their PC
    ‚Üí Shares their IP with friends
         ‚Üì
Friends connect via IP
    ‚Üí All clients talk to host
    ‚Üí No Proton# servers involved</pre>
      </div>
      <h2>Getting server.pros</h2>
      <p style="margin-bottom:16px; color:var(--gray);">Download the official <code>server.pros</code> template to get started with multiplayer:</p>
      <a href="../downloads/server.pros" download style="display:inline-flex; align-items:center; gap:8px; background:var(--orange); color:#fff; padding:10px 20px; border-radius:8px; text-decoration:none; font-weight:600; font-size:0.9rem;">‚¨á Download server.pros</a>
      <h2 style="margin-top:32px;">Requirements</h2>
      <table class="doc-table">
        <tr><th>Requirement</th><th>Details</th></tr>
        <tr><td>Host machine</td><td>Any PC running Proton#</td></tr>
        <tr><td>Port</td><td>Default: 7777 (configurable)</td></tr>
        <tr><td>Firewall</td><td>Host must allow inbound on chosen port</td></tr>
        <tr><td>Player limit</td><td>None ‚Äî limited only by host hardware</td></tr>
      </table>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('math')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Math Library</div></button>
        <button class="page-nav-btn next" onclick="showSection('server-script')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Server Script</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê SERVER SCRIPT ‚ïê‚ïê -->
    <div class="doc-section" id="section-server-script">
      <div class="section-tag">üåê Networking</div>
      <h1><span>Server Script</span></h1>
      <p class="section-intro">The <code>server.pros</code> file is run by the player hosting the game. It manages all connected players and syncs game state.</p>
      <h2>Full server.pros Template</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="cmt">--[[
  server.pros
  Proton# Multiplayer Server Script
  Run this file to host a multiplayer session.
  Players connect to your IP and port.
]]</span>

<span class="kw">import</span> std.network;

<span class="cmt">-- Server state</span>
module.players     <span class="op">=</span> [];
module.gameRunning <span class="op">=</span> <span class="kw">false</span>;

<span class="cmt">-- Called when a player connects</span>
network.onConnect(<span class="kw">func</span>(player) <span class="kw">do</span>
    print(player.name <span class="op">..</span> <span class="str">" connected."</span>);
    module.players.push(player);
    network.broadcast(<span class="str">"PlayerJoined"</span>, { name: player.name });
<span class="kw">end</span>);

<span class="cmt">-- Called when a player disconnects</span>
network.onDisconnect(<span class="kw">func</span>(player) <span class="kw">do</span>
    print(player.name <span class="op">..</span> <span class="str">" disconnected."</span>);
    <span class="kw">var:local</span> idx <span class="op">=</span> module.players.indexOf(player);
    module.players.remove(idx);
    network.broadcast(<span class="str">"PlayerLeft"</span>, { name: player.name });
<span class="kw">end</span>);

<span class="cmt">-- Handle player movement</span>
network.onMessage(<span class="str">"MovePlayer"</span>, <span class="kw">func</span>(player, data) <span class="kw">do</span>
    player.x <span class="op">=</span> data.x;
    player.y <span class="op">=</span> data.y;
    network.broadcastExcept(player, <span class="str">"PlayerMoved"</span>, {
        id: player.id,
        x:  data.x,
        y:  data.y
    });
<span class="kw">end</span>);

<span class="cmt">-- Start the server</span>
network.startServer(<span class="num">7777</span>);
print(<span class="str">"Server running on port 7777"</span>);
print(<span class="str">"Share your IP with friends to let them join!"</span>);</pre>
      </div>
      <p style="margin-top:16px;">
        <a href="../downloads/server.pros" download style="display:inline-flex; align-items:center; gap:8px; background:var(--orange); color:#fff; padding:10px 20px; border-radius:8px; text-decoration:none; font-weight:600; font-size:0.9rem;">‚¨á Download server.pros</a>
      </p>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('networking-overview')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Networking Overview</div></button>
        <button class="page-nav-btn next" onclick="showSection('client-script')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Client Script</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê CLIENT SCRIPT ‚ïê‚ïê -->
    <div class="doc-section" id="section-client-script">
      <div class="section-tag">üåê Networking</div>
      <h1><span>Client Script</span></h1>
      <p class="section-intro">The client script runs on each player's machine. It connects to the host and sends/receives game state.</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="kw">import</span> std.network;

<span class="cmt">-- Connect to the host's IP and port</span>
network.connect(<span class="str">"192.168.1.1"</span>, <span class="num">7777</span>);

<span class="cmt">-- When another player moves</span>
network.onMessage(<span class="str">"PlayerMoved"</span>, <span class="kw">func</span>(data) <span class="kw">do</span>
    <span class="kw">var:local</span> other <span class="op">=</span> getPlayerById(data.id);
    other.x <span class="op">=</span> data.x;
    other.y <span class="op">=</span> data.y;
<span class="kw">end</span>);

<span class="cmt">-- Send local player movement to server</span>
event.on(<span class="str">"KeyPress"</span>, <span class="kw">func</span>(key) <span class="kw">do</span>
    <span class="kw">if</span> key <span class="op">==</span> <span class="str">"Right"</span> <span class="kw">do</span>
        player.x <span class="op">=</span> player.x <span class="op">+</span> player.speed;
        network.send(<span class="str">"MovePlayer"</span>, { x: player.x, y: player.y });
    <span class="kw">end</span>;
<span class="kw">end</span>);

<span class="cmt">-- Disconnect when done</span>
network.disconnect();</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('server-script')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Server Script</div></button>
        <button class="page-nav-btn next" onclick="showSection('network-api')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Network API</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê NETWORK API ‚ïê‚ïê -->
    <div class="doc-section" id="section-network-api">
      <div class="section-tag">üåê Networking</div>
      <h1><span>Network API</span></h1>
      <p class="section-intro">Full reference for all networking functions available in <code>std.network</code>.</p>
      <h2>Server Functions</h2>
      <table class="doc-table">
        <tr><th>Function</th><th>Description</th></tr>
        <tr><td><code>network.startServer(port)</code></td><td>Start hosting on a port</td></tr>
        <tr><td><code>network.broadcast(event, data)</code></td><td>Send to all clients</td></tr>
        <tr><td><code>network.broadcastExcept(player, event, data)</code></td><td>Send to all except one player</td></tr>
        <tr><td><code>network.onConnect(func)</code></td><td>Listen for new connections</td></tr>
        <tr><td><code>network.onDisconnect(func)</code></td><td>Listen for disconnections</td></tr>
        <tr><td><code>network.onMessage(event, func)</code></td><td>Listen for a message type</td></tr>
        <tr><td><code>network.getPlayers()</code></td><td>Get list of connected players</td></tr>
        <tr><td><code>network.ping(player)</code></td><td>Get player ping in ms</td></tr>
      </table>
      <h2>Client Functions</h2>
      <table class="doc-table">
        <tr><th>Function</th><th>Description</th></tr>
        <tr><td><code>network.connect(ip, port)</code></td><td>Connect to a host</td></tr>
        <tr><td><code>network.disconnect()</code></td><td>Disconnect from server</td></tr>
        <tr><td><code>network.send(event, data)</code></td><td>Send message to server</td></tr>
        <tr><td><code>network.onMessage(event, func)</code></td><td>Listen for a message from server</td></tr>
      </table>
      <h2>Player Object</h2>
      <table class="doc-table">
        <tr><th>Property</th><th>Description</th></tr>
        <tr><td><code>player.id</code></td><td>Unique player ID</td></tr>
        <tr><td><code>player.name</code></td><td>Player username</td></tr>
        <tr><td><code>player.ip</code></td><td>Player IP address</td></tr>
        <tr><td><code>player.ping</code></td><td>Current ping in ms</td></tr>
        <tr><td><code>player.x</code></td><td>X position (synced)</td></tr>
        <tr><td><code>player.y</code></td><td>Y position (synced)</td></tr>
      </table>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('client-script')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Client Script</div></button>
        <button class="page-nav-btn next" onclick="showSection('comments')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Comments</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê COMMENTS ‚ïê‚ïê -->
    <div class="doc-section" id="section-comments">
      <div class="section-tag">Reference</div>
      <h1><span>Comments</span></h1>
      <p class="section-intro">Comments are ignored by the compiler. Use them to explain your code.</p>
      <h2>Single Line</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="cmt">-- This is a comment</span>
<span class="kw">var</span> x <span class="op">=</span> <span class="num">10</span>; <span class="cmt">-- Inline comment</span></pre>
      </div>
      <h2>Multi Line</h2>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="cmt">--[[
  This spans
  multiple lines!
]]</span>
<span class="kw">var</span> x <span class="op">=</span> <span class="num">10</span>;</pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('builtins')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Built-in Functions</div></button>
        <button class="page-nav-btn next" onclick="showSection('cheatsheet')"><div class="nav-dir">Next ‚Üí</div><div class="nav-title">Quick Reference</div></button>
      </div>
    </div>

    <!-- ‚ïê‚ïê CHEATSHEET ‚ïê‚ïê -->
    <div class="doc-section" id="section-cheatsheet">
      <div class="section-tag">Reference</div>
      <h1>Quick <span>Reference</span></h1>
      <p class="section-intro">Everything in one place. Bookmark this page!</p>
      <div class="code-block">
        <div class="code-header"><span class="code-lang">proton</span><button class="code-copy" onclick="copyCode(this)">Copy</button></div>
        <pre><span class="cmt">-- Variables</span>
<span class="kw">var</span> x <span class="op">=</span> <span class="num">10</span>;
<span class="kw">const</span> MAX <span class="op">=</span> <span class="num">100</span>;

<span class="cmt">-- Types</span>
<span class="kw">var</span> name  <span class="op">=</span> <span class="str">"Xynox1"</span>;
<span class="kw">var</span> score <span class="op">=</span> <span class="num">0</span>;
<span class="kw">var</span> speed <span class="op">=</span> <span class="num">1.5</span>;
<span class="kw">var</span> alive <span class="op">=</span> <span class="kw">true</span>;
<span class="kw">var</span> items <span class="op">=</span> [<span class="str">"a"</span>, <span class="str">"b"</span>];
<span class="kw">var</span> data  <span class="op">=</span> {key: <span class="str">"val"</span>};

<span class="cmt">-- Control Flow</span>
<span class="kw">if</span> x <span class="op">></span> <span class="num">5</span> <span class="kw">do</span> <span class="op">...</span> <span class="kw">end</span>;
<span class="kw">while</span> x <span class="op"><</span> <span class="num">10</span> <span class="kw">do</span> <span class="op">...</span> <span class="kw">end</span>;
<span class="kw">for</span> i <span class="op">=</span> <span class="num">1</span> <span class="kw">to</span> <span class="num">10</span> <span class="kw">do</span> <span class="op">...</span> <span class="kw">end</span>;
<span class="kw">for each</span> item <span class="kw">in</span> items <span class="kw">do</span> <span class="op">...</span> <span class="kw">end</span>;

<span class="cmt">-- Functions</span>
<span class="kw">func</span> <span class="fn">name</span>(params) <span class="kw">do</span> <span class="op">...</span> <span class="kw">end</span>;

<span class="cmt">-- Error Handling</span>
<span class="kw">try</span> <span class="kw">do</span> <span class="op">...</span> <span class="kw">catch</span> err <span class="kw">do</span> <span class="op">...</span> <span class="kw">end</span>;
<span class="kw">throw</span> <span class="str">"message"</span>;

<span class="cmt">-- Datastores</span>
<span class="fn">datastore</span>.save(<span class="str">"key"</span>, value);
<span class="fn">datastore</span>.load(<span class="str">"key"</span>);
<span class="fn">datastore</span>.exists(<span class="str">"key"</span>);
<span class="fn">datastore</span>.delete(<span class="str">"key"</span>);

<span class="cmt">-- Comments</span>
<span class="cmt">-- single line</span>
<span class="cmt">--[[ multi line ]]</span></pre>
      </div>
      <div class="page-nav">
        <button class="page-nav-btn" onclick="showSection('comments')"><div class="nav-dir">‚Üê Previous</div><div class="nav-title">Comments</div></button>
        <div></div>
      </div>
    </div>

  </div>
</div>

<script>
  const SECTIONS = {
    'overview':        'overview',
    'file-format':     'file-format',
    'syntax':          'syntax',
    'types':           'types',
    'variables':       'variables',
    'operators':       'operators',
    'control-flow':    'control-flow',
    'functions':       'functions',
    'error-handling':  'error-handling',
    'datastores':      'datastores',
    'backend-routing': 'backend-routing',
    'builtins':        'builtins',
    'comments':        'comments',
    'cheatsheet':      'cheatsheet',
  };

  function showSection(id) {
    document.querySelectorAll('.doc-section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
    document.getElementById('section-' + id).classList.add('active');
    document.querySelector(`[onclick="showSection('${id}')"]`).classList.add('active');
    document.getElementById('breadcrumb').textContent = id.replace(/-/g, ' ');
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function copyCode(btn) {
    const pre = btn.closest('.code-block').querySelector('pre');
    navigator.clipboard.writeText(pre.innerText);
    btn.textContent = 'Copied!';
    setTimeout(() => btn.textContent = 'Copy', 1800);
  }

  function searchDocs(query) {
    const q = query.toLowerCase().trim();
    const links = document.querySelectorAll('.nav-link');
    const noResults = document.getElementById('no-results');
    let anyVisible = false;
    links.forEach(link => {
      const text = link.textContent.toLowerCase();
      if (!q || text.includes(q)) {
        link.style.display = '';
        anyVisible = true;
      } else {
        link.style.display = 'none';
      }
    });
    noResults.style.display = (!anyVisible && q) ? 'block' : 'none';
  }
</script>
</body>
</html>
